# 🎴 百家樂（Baccarat）遊戲規格書
**類型**：2D 桌面遊戲  
**邏輯位置**：Client 端  
**遊戲人數**：1 名玩家  
**荷官**：NPC（自動發牌與結算）  
**無真人視訊、無網路連線需求**

---

## 一、遊戲概述
- 玩家與莊家進行比點數遊戲。  
- 玩家可選擇下注莊家（Banker）、閒家（Player）、或和局（Tie）。  
- 所有流程由 NPC 自動執行。  
- 遊戲以一副包含 8 副撲克牌（共 416 張）為基礎。  
- 每局重新洗牌或設定為連續多局使用同一個牌靴。  

---

## 二、遊戲流程
1. 顯示下注介面。  
2. 玩家選擇籌碼面額。  
3. 玩家可下注至任一區域（莊／閒／和），或選擇不下注。  
4. 倒數計時結束或玩家確認下注後，NPC 開始發牌。  
5. NPC 依序發出四張牌：閒家第一張、莊家第一張、閒家第二張、莊家第二張。  
6. 依照百家樂補牌規則決定是否補第三張。  
7. NPC 判斷勝負結果並顯示。  
8. 若玩家有下注，依照賠率發放獎勵。  
9. 顯示結算結果與歷史紀錄。  
10. 進入下一局或等待玩家重新下注。

---

## 三、補牌規則

### 閒家補牌
- 若閒家點數 0～5 → 補一張。  
- 若閒家點數 6～7 → 不補。  
- 若閒家點數 8～9 → 天生勝（Natural），雙方皆不補。  

### 莊家補牌
- 若閒家未補牌：
  - 莊家點數 0～5 → 補一張。  
  - 莊家點數 6～7 → 不補。  
  - 莊家點數 8～9 → 天生勝（不補）。  

- 若閒家有補牌：
  - 莊家 0～2 → 一律補牌。  
  - 莊家 3 → 若閒家第 3 張非 8 → 補牌。  
  - 莊家 4 → 若閒家第 3 張為 2～7 → 補牌。  
  - 莊家 5 → 若閒家第 3 張為 4～7 → 補牌。  
  - 莊家 6 → 若閒家第 3 張為 6～7 → 補牌。  
  - 莊家 7 → 不補。  
  - 莊家 8～9 → 不補。

---

## 四、點數計算方式
- A = 1 點。  
- 2～9 = 牌面點數。  
- 10、J、Q、K = 0 點。  
- 計算總點數後只取個位數（例如 15 → 5 點）。  

---

## 五、勝負判定
- 若閒家點數大於莊家點數 → 閒家勝。  
- 若莊家點數大於閒家點數 → 莊家勝。  
- 若雙方點數相同 → 和局。  

---

## 六、賠率設定
- 閒家（Player）勝 → 1 : 1。  
- 莊家（Banker）勝 → 1 : 0.95（抽水 5%）。  
- 和局（Tie） → 1 : 8。   

---

## 七、遊戲介面
- 畫面為 2D 桌面視角。  
- 顯示下注區域（莊、閒、和）。  
- 玩家可點擊籌碼選擇下注金額。  
- 顯示下注倒數計時。  
- 發牌動畫由 NPC 執行。  
- 結果顯示包含：莊家牌面、閒家牌面、勝負結果。  
- 顯示玩家贏得或失去的金額變化。  
- 顯示歷史紀錄（最近 10 局結果）。  

---

## 八、隨機性與洗牌邏輯
- 使用客戶端亂數演算法（如 Math.random() 或 PRNG）。  
- 每次開局前重新打亂所有牌組。  
- 每 N 局自動重新洗牌。  

---

## 九、錯誤處理
- 若發生邏輯錯誤或牌組異常，該局作廢並重新開局。  
- 若玩家未下注則不影響金額。  
- 若玩家中途關閉遊戲，狀態不儲存。   
